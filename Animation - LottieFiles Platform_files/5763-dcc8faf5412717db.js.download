"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5763],{90971:function(e,t,n){n.d(t,{Z:function(){return f}});var s=n(97458),a=n(52983),l=n(88317),r=n(6904),i=n(86289),c=n(69826),o=n(21959),d=n(29827),u=n(44440),x=n(83849),m=n.n(x);const h=e=>{let{step:t}=e;const n=a.useMemo((()=>{switch(t){case 1:return"This animation is powered by a state machine, allowing you to interact with it directly in this view. Letâ€™s take a quick tour to get started.";case 2:return"This is the panel where you can view all state machine settings, triggers, and listeners in one place for better clarity.";case 3:return"Use this toggle to turn state machine mode ON or OFF, making it easier to switch between interactive and standard viewing modes.";default:return null}}),[t]);return(0,s.jsx)(d.yk,{children:n})},p=e=>{let{onClose:t,step:n}=e;const l=a.useMemo((()=>{switch(n){case 1:return"State machine mode is ON!";case 2:return"Explore the state machine panel";case 3:return"Toggle state machine mode";default:return null}}),[n]);return(0,s.jsx)(d.so,{onClose:t,children:l})},f=e=>{let{arrowOffset:t=0,arrowPadding:n=10,asChild:x,children:f,className:g,onClick:v,sideOffset:b=8,step:j,...y}=e;const{done:N,nextStep:w,state:k}=(0,l.N)(),{stateMachineMode:C}=(0,o.U)(),S=k.tasks[r.O.STATE_MACHINES],E=S.currentStep||0,I=C&&E===j,T=a.useCallback((()=>{(0,c.Z9)(new c.Z_({onboardingTaskId:r.O.STATE_MACHINES,action:"click",label:"dismiss CTA",from:"state machines popover",step:j.toString()})),N({taskId:r.O.STATE_MACHINES})}),[N,j]),M=a.useCallback((()=>{(0,c.Z9)(new c.Z_({onboardingTaskId:r.O.STATE_MACHINES,action:"click",label:"next CTA",from:"state machines popover",step:j.toString()})),w({taskId:r.O.STATE_MACHINES})}),[w,j]),_=a.useCallback((()=>{(0,c.Z9)(new c.Z_({onboardingTaskId:r.O.STATE_MACHINES,action:"click",label:"previous CTA",from:"state machines popover",step:j.toString()})),w({taskId:r.O.STATE_MACHINES,stepIncrement:-1})}),[w,j]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(d.J2,{anchor:f,open:I,anchorClassname:m()("relative",g),arrowPadding:n,arrowOffset:t,sideOffset:b,...y,maxWidth:"380px",children:[(0,s.jsx)(p,{step:E,onClose:T}),(0,s.jsx)(h,{step:E}),(0,s.jsx)(d.DT,{justify:"between",steps:S.steps,step:E,children:(0,s.jsxs)(u.k,{columnGap:4,children:[E>1&&(0,s.jsx)(i.z,{variant:"ghost",fontClasses:"text-white",onClick:_,children:"Previous"}),(0,s.jsx)(i.z,{fontClasses:"font-bold",onClick:M,children:S.steps===E?"Done":"Next"})]})})]})})}},90213:function(e,t,n){n.d(t,{t:function(){return m}});var s=n(97458),a=n(52983),l=n(84867),r=n(69826),i=n(86289),c=n(29827),o=n(82476),d=n(83849),u=n.n(d);const x=e=>{let{anchor:t,children:n,className:a,defaultOpen:l}=e;return(0,s.jsxs)(o.fC,{openDelay:300,closeDelay:50,defaultOpen:l,children:[(0,s.jsx)(o.xz,{children:t}),(0,s.jsx)(o.h_,{children:(0,s.jsxs)(o.VY,{className:u()("relative rounded-lg flex-col max-w-[280px] h-full text-white bg-gray-900 z-10 border-0 select-none",a),style:{boxShadow:"0px 8px 16px 0px rgba(0, 0, 0, 0.16)"},children:[n,(0,s.jsx)(o.Eh,{width:16,height:8,className:"fill-gray-900"})]})})]})},m=e=>{let{children:t,className:n,ctaLabel:o="Learn more",heroLottie:d="https://lottie.host/2b2ca8d2-5de2-4dd8-9b52-8dc8d0ad8843/WcQknHt3F7.lottie",onCtaClick:u,open:m=!0,textContent:h="Use Creator to set up interactive states for your animation. Easily add actions and connections to make it come to life.",title:p="Create state machine"}=e;const f=a.useCallback((()=>{null==u||u()}),[u]);return a.useEffect((()=>{m&&(0,r.Z9)(new r.Z_({onboardingTaskId:l.Oc.CREATE_STATE_MACHINE,action:"view",label:"create state machine info popover",from:"create state machine info popover",step:"0"}))}),[m]),(0,s.jsxs)(x,{anchor:t,className:n,children:[(0,s.jsx)(c.so,{children:p}),(0,s.jsx)(c.FA,{lottieSrc:d}),(0,s.jsx)(c.yk,{children:h}),u&&(0,s.jsx)(c.DT,{justify:"end",children:(0,s.jsx)(i.z,{fontClasses:"font-bold",onClick:f,children:o})})]})}},98984:function(e,t,n){n.d(t,{r:function(){return o}});var s=n(97458),a=n(18119),l=n(83849),r=n.n(l),i=n(52983),c=n(68250);const o=e=>{let{disabled:t,label:n,loader:l=!1,onChange:o,size:d="sm",value:u=!1}=e;const[x,m]=(0,i.useState)(u);(0,i.useEffect)((()=>{u!==x&&m(u)}),[x,u]);const h=(0,i.useCallback)((e=>{t||(m(e),o(e))}),[t,o]),p=(0,i.useCallback)((e=>{t&&e.stopPropagation()}),[t]);return(0,s.jsxs)("div",{className:"relative flex items-center ",children:[(0,s.jsxs)(a.r.Group,{as:"div",className:r()(l?"opacity-30 pointer-events-none":"opacity-none","flex items-center"),children:[(0,s.jsx)(a.r,{as:t?"div":"button",checked:x,onChange:h,onClick:p,className:r()(x?"bg-actionPrimary":"bg-gray-300","relative inline-flex flex-shrink-0 border-2 border-transparent rounded-full transition-colors ease-in-out duration-200 focus:outline-none focus:ring-0 focus:ring-offset-0",{"h-3 w-5":"xs"===d,"h-4 w-7":"sm"===d,"h-5 w-9":"lg"===d,"opacity-30 cursor-not-allowed":t,"cursor-pointer":!t}),children:(0,s.jsx)("span",{"aria-hidden":"true",className:r()("pointer-events-none inline-block rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200",{"h-2 w-2":"xs"===d,"h-3 w-3":"sm"===d,"h-4 w-4":"lg"===d,"translate-x-2":"xs"===d&&x,"translate-x-3":"sm"===d&&x,"translate-x-4":"lg"===d&&x,"translate-x-0":!x})})}),n&&(0,s.jsx)(a.r.Label,{as:"span",className:"ml-3",children:(0,s.jsx)("span",{className:"text-sm text-gray-900",children:n})})]}),l&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)(c.a,{type:"spinner",size:"sm"===d?"3xs":"2xs"})})]})}},29827:function(e,t,n){n.d(t,{DT:function(){return f},FA:function(){return v},J2:function(){return j},so:function(){return b},yk:function(){return g}});var s=n(97458),a=n(52983),l=n(13219),r=n(37210),i=n(83849),c=n.n(i),o=n(98532),d=n(32474),u=n(44440),x=n(12810),m=n(5540);const h=(0,r.F4)({"0%":{opacity:0,transform:"scale(0)"},"100%":{opacity:1,transform:"scale(1)"}}),p=(0,r.zo)(l.VY,{transformOrigin:"var(--radix-popover-content-transform-origin)",animation:"".concat(h," 0.2s ease-in"),zIndex:9}),f=e=>{let{children:t,justify:n="between",step:a,steps:l}=e;return(0,s.jsxs)(u.k,{align:"center",direction:"row",justify:n,className:"px-4 pb-4",children:[l&&l>0?(0,s.jsx)("div",{className:"text-xs text-gray-200",children:l>1&&(0,s.jsxs)("span",{children:[a," of ",l]})}):null,t]})},g=e=>{let{children:t}=e;return(0,s.jsx)(u.k,{className:"px-4 pb-4",children:(0,s.jsx)("div",{className:"text-sm text-gray-200",children:t})})},v=e=>{let{lottieSrc:t}=e;return(0,s.jsx)(u.k,{className:"px-4 pb-4",children:(0,s.jsx)("div",{className:"overflow-hidden rounded-lg",children:(0,s.jsx)(d.V,{loop:!0,autoplay:!0,src:t,style:{width:"100%",minHeight:"186px"}})})})},b=e=>{let{children:t,onClose:n}=e;const l=a.useCallback((()=>{null==n||n()}),[n]);return(0,s.jsxs)(u.k,{justify:"between",align:"center",className:"px-4 py-3",children:[(0,s.jsx)("div",{className:"text-base font-bold text-white",children:t}),n?(0,s.jsx)(o.h,{icon:"cross",sizeClass:"h-6 w-6",onClick:l,className:"text-white stroke-current",hoverBackgroundClass:"hover:bg-transparent",focusBackgroundClass:"focus:bg-transparent"}):(0,s.jsx)(s.Fragment,{})]})},j=e=>{let{anchor:t,anchorClassname:n,arrowOffset:r=0,arrowPadding:i=10,children:o,className:d,maxWidth:h="280px",onClick:f,open:g,sideOffset:v=8,withSparkle:b=!1,...j}=e;const y=a.useCallback((()=>{null==f||f()}),[f]);return(0,s.jsxs)(l.fC,{open:g,children:[(0,s.jsxs)(l.ee,{className:n,onClick:y,children:[g&&b?(0,s.jsx)("div",{className:c()("text-gray-900 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 rounded-full z-10 pointer-events-none",d),children:(0,s.jsx)(x.J,{src:m.Yn,autoplay:!0,loop:!0,style:{width:"80px",height:"80px",aspectRatio:"1 / 1"}})}):null,t]}),(0,s.jsx)(l.h_,{children:(0,s.jsxs)(p,{onOpenAutoFocus:e=>e.preventDefault(),onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:e=>e.preventDefault(),arrowPadding:i,...j,sideOffset:v,tabIndex:0,className:c()("relative rounded-lg flex-col h-full text-white bg-gray-900 z-10 border-0 select-none",d),style:{maxWidth:h},children:[(0,s.jsx)(l.Eh,{width:18,height:9,className:"visible text-gray-900 fill-current stroke-current",style:{marginRight:"".concat(r,"px")}}),(0,s.jsx)(u.k,{direction:"column",children:o})]})})]})}},8779:function(e,t,n){n.d(t,{TV:function(){return F}});var s=n(97458),a=n(52983),l=n(95931),r=n(29602),i=n(98984),c=n(57282),o=n(31401),d=n(83849),u=n.n(d),x=n(20734),m=n(21959),h=n(18363),p=n(34651),f=n(75800),g=n(44277),v=n(90971),b=n(90213),j=n(69826),y=n(98532);const N={PointerDown:"When mouse is clicked",PointerEnter:"When mouse hovers over the animation",PointerMove:"When mouse moves within animation",PointerExit:"When mouse moves out of the animation",PointerUp:"When mouse is released",OnComplete:"When animation finishes playing"},w=e=>{let{className:t,disabled:n,max:l=99999,maxDigits:i=4,min:c=0,name:o,onChange:d,placeholder:x,sensitivity:m=.5,step:p=1,value:f}=e;const g="string"==typeof f?Number.parseFloat(f)||0:f,{decrement:v,handlers:b,increment:j,setValue:y,value:N}=function(){let{axis:e="vertical",defaultValue:t=0,max:n=Number.MAX_SAFE_INTEGER,min:s=Number.MIN_SAFE_INTEGER,onChange:l,onDragEnd:r,onDragStart:i,sensitivity:c=.5,step:o=1,value:d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const u=void 0!==d,[x,m]=a.useState(t),h=u?d:x,[p,f]=a.useState(!1),[g,v]=a.useState({x:0,y:0}),[b,j]=a.useState(null!=t?t:0),y=a.useRef(h),N=a.useCallback((e=>Math.min(Math.max(e,s),n)),[s,n]),w=a.useCallback((e=>{const t=N(e);return t!==y.current&&(u||m(t),null==l||l(t),y.current=t),t}),[N,u,l]);a.useEffect((()=>{u&&d!==y.current&&(y.current=d)}),[d,u]);const k=a.useCallback((e=>{var t,n,s;f(!0);const a=null!==(s="touches"in e?null===(t=e.touches[0])||void 0===t?void 0:t.clientX:e.clientX)&&void 0!==s?s:0;var l;const r=null!==(l="touches"in e?null===(n=e.touches[0])||void 0===n?void 0:n.clientY:e.clientY)&&void 0!==l?l:0;v({x:a,y:r}),j(h),null==i||i(h)}),[h,i]),C=a.useCallback((()=>{const e=h+o;return w(e),e}),[h,o,w]),S=a.useCallback((()=>{const e=h-o;return w(e),e}),[h,o,w]),E=a.useCallback((e=>w(e)),[w]),I=a.useCallback((e=>w(e)),[w]);return a.useEffect((()=>{if(!p)return;const t=t=>{var n,s,a;const l=null!==(a="touches"in t?null===(n=t.touches[0])||void 0===n?void 0:n.clientX:t.clientX)&&void 0!==a?a:0;var r;const i=null!==(r="touches"in t?null===(s=t.touches[0])||void 0===s?void 0:s.clientY:t.clientY)&&void 0!==r?r:0;let d=0;d="vertical"===e?(g.y-i)*c:(l-g.x)*c;const u=b+d,x=Math.round(u/o)*o;w(x)},n=()=>{f(!1),null==r||r(h)};return document.addEventListener("mousemove",t),document.addEventListener("touchmove",t),document.addEventListener("mouseup",n),document.addEventListener("touchend",n),()=>{document.removeEventListener("mousemove",t),document.removeEventListener("touchmove",t),document.removeEventListener("mouseup",n),document.removeEventListener("touchend",n)}}),[p,g,b,c,e,o,w,h,r]),{value:h,setValue:E,setValueFromExternal:I,isDragging:p,handlers:{onMouseDown:k,onTouchStart:k},increment:C,decrement:S}}({defaultValue:g,min:c,max:l,step:p,sensitivity:m,onChange:e=>{null==d||d({name:o,value:e})}}),[w,k]=a.useState(!1),C=a.useRef(null),S=a.useMemo((()=>{const e=String(N);return e.length<=i?e:w?"".concat(e.slice(0,6),"..."):"...".concat(e.slice(-6))}),[N,w,i]),E=a.useCallback((e=>{let t=e.target.value;t=t.replace(/[^\d.-]/gu,"");const n=t.split(".");n.length>2&&(t="".concat(n[0],".").concat(n.slice(1).join(""))),t.includes("-")&&0!==t.indexOf("-")&&(t=t.replace(/-/gu,""));const s=""===t?0:Number.parseFloat(t);isNaN(s)||y(s),String(f)!==t&&(null==d||d({name:o,value:""===t?"":s}))}),[o,d,f,y]),I=a.useCallback((()=>{if(C.current){const e=C.current.selectionStart,t=C.current.value.length;k(e!==t-1)}}),[]);return a.useEffect((()=>{const e="string"==typeof f?Number.parseFloat(f)||0:f;e!==N&&y(e)}),[f,N,y]),(0,s.jsxs)("div",{className:u()("relative flex justify-stretch items-center rounded-s rounded-e overflow-hidden border border-subtle hover:border-mint-200 group",t),children:[(0,s.jsx)("button",{type:"button",className:"text-gray-400 absolute right-1 bottom-0 hover:text-gray-900 invisible group-hover:visible z-10",onClick:v,disabled:n,"aria-label":"Decrement",children:(0,s.jsx)(r.J,{name:"chevron-down-2",customSize:12})}),(0,s.jsx)("button",{type:"button",className:"text-gray-400 absolute right-1 top-0 hover:text-gray-900 invisible group-hover:visible z-10",onClick:j,disabled:n,"aria-label":"Increment",children:(0,s.jsx)(r.J,{name:"chevron-up-2",className:"mt-[2px]",customSize:12})}),(0,s.jsx)(h.Z,{ref:C,type:"number",className:"w-full border-0 bg-[#001331] bg-opacity-[0.04] px-[6px] hover:pr-[14px] focus:pr-[14px] py-0 h-6 text-xs text-left -tracking-[0.24px] leading-6 focus:appearance-none focus:outline-none focus:border-subtle focus:shadow-none focus:ring-0",name:o,value:S,disabled:n,onChange:E,"aria-label":o,placeholder:x,onClick:I,onFocus:I,onKeyUp:I,min:c,max:l,step:p,inputMode:"decimal",pattern:"^\\d*\\.?\\d+$",...n?{}:b})]})},k=e=>{let{disabled:t,label:n,name:l,onChange:r,showLoader:c,toggleValue:o}=e;const d=a.useCallback((async e=>{o!==e&&(null==r||r({name:l,value:e}))}),[l,o,r]);return(0,s.jsxs)("div",{className:"flex flex-row items-center justify-between w-full leading-6 trigger-item",id:"panel-field-".concat(l),children:[n?(0,s.jsx)("div",{className:"flex flex-col justify-center text-gray-900",children:(0,s.jsx)("span",{className:"inline-block text-sm",children:n})}):(0,s.jsx)(s.Fragment,{}),(0,s.jsx)("div",{className:"ml-auto",children:(0,s.jsx)(i.r,{disabled:t,value:o,size:"lg",onChange:d,loader:c})})]})},C=e=>{let{disabled:t,isNumericText:n,label:l,name:r,onChange:i,placeholder:c="Enter value",value:o}=e;const d=a.useCallback((async e=>{const t=e.target.value;o!==t&&(null==i||i({name:r,value:t}))}),[r,i,o]);return(0,s.jsxs)("div",{className:"flex flex-row items-center justify-between w-full leading-6 trigger-item",id:"panel-field-".concat(r),children:[l?(0,s.jsx)("div",{className:"flex flex-col justify-center text-gray-900",children:(0,s.jsx)("label",{className:"inline-block text-sm",htmlFor:r,children:l})}):(0,s.jsx)(s.Fragment,{}),(0,s.jsx)("div",{className:"ml-auto",children:n?(0,s.jsx)(w,{className:"w-[55px]",name:r,value:o,disabled:t,placeholder:c,onChange:i}):(0,s.jsx)(h.Z,{type:"text",className:"border-subtle bg-foreground-2 rounded rounded-s px-2 py-0 h-6 text-xs -tracking-[0.24px] leading-6 focus:appearance-none focus:outline-none focus:border-subtle focus:shadow-none focus:ring-0",name:r,value:o,disabled:t,onChange:d,"aria-label":r,placeholder:c})})]})},S=e=>{let{buttonLabel:t,label:n,name:l,onClick:r,value:i}=e;const c=a.useCallback((()=>{null==r||r({name:l,value:i})}),[r,l,i]);return(0,s.jsxs)("div",{className:"flex flex-row items-center justify-between w-full leading-6 trigger-item",id:"panel-buttonfield-".concat(l),children:[n?(0,s.jsx)("div",{className:"flex flex-col justify-center text-gray-900",children:(0,s.jsx)("label",{className:"inline-block text-sm",htmlFor:l,children:n})}):(0,s.jsx)(s.Fragment,{}),(0,s.jsx)("div",{className:"ml-auto",children:t?(0,s.jsx)("button",{type:"button",onClick:c,className:"border-subtle bg-foreground-2 rounded rounded-s px-2 py-0 h-6 text-xs -tracking-[0.24px] leading-6 focus:appearance-none focus:outline-none focus:border-subtle focus:shadow-none focus:ring-0",children:t}):(0,s.jsx)(y.h,{name:"bolt",small:!0,backgroundClass:"bg-[#001331] bg-opacity-[0.04]",hoverBackgroundClass:"hover:bg-opacity-[0.08] hover:!text-actionPrimary",focusBackgroundClass:"focus:!text-actionPrimaryHover focus:!bg-opacity-[0.12]",onClick:c})})]})},E=e=>{let{selectedStateMxn:t,stateMxnsList:n}=e;const{actions:{selectStateMachine:i}}=(0,m.U)(),o=a.useMemo((()=>{if(!t||""===t)return n[0];return n.find((e=>e.value===t))}),[t,n]),d=Object.values(n),x=1===d.length,h=a.useCallback((e=>async()=>{i(e)}),[i]);return(0,s.jsxs)("div",{className:"panel-field",children:[!x&&(0,s.jsx)("div",{className:"flex flex-row items-center",children:(0,s.jsx)(c.Z,{variant:"caption-1",color:"gray",darkest:!0,children:"Select state machine"})}),(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsxs)(l.f,{children:[(0,s.jsxs)(l.f.Trigger,{type:"select",className:u()("!rounded-lg h-8 outline-none"),disabled:x,children:[(0,s.jsx)("div",{className:"flex items-center flex-grow gap-1 text-sm",children:null==o?void 0:o.label}),(0,s.jsx)("div",{className:u()("flex items-center text-gray-700",{"opacity-100":!x,"opacity-30":x}),children:(0,s.jsx)(r.J,{name:"chevron-down",marginLeft:!0,small:!0})})]}),(0,s.jsx)(l.f.Content,{className:"w-[295px] space-y-1",side:"bottom",align:"start",children:d.map((e=>(0,s.jsx)(l.f.Item,{onSelect:h(e.value),className:"!pl-1 group",children:(0,s.jsxs)("div",{className:"flex items-center justify-center w-full group",children:[(0,s.jsx)("div",{className:"w-3 h-3 mr-1",children:(0,s.jsx)(r.J,{name:"tick-bold",customSize:12,className:u()("text-gray-900",{invisible:(null==o?void 0:o.value)!==e.value})})}),(0,s.jsx)("div",{className:"flex items-center w-full text-sm",children:(0,s.jsx)("div",{className:"flex",children:(0,s.jsx)("span",{className:"font-bold tracking-[-0.28px] mr-1",children:e.label})})})]})},e.label)))})]})})]})},I=e=>{let{items:t,type:n}=e;const a=N[n];return(0,s.jsxs)("div",{className:"flex flex-col rounded-lg overflow-hidden border border-gray-100",children:[(0,s.jsx)("div",{className:u()("flex w-full justify-center items-start h-[26px] bg-[#001331] bg-opacity-[0.04] border-b border-gray-100"),children:(0,s.jsx)(o.u,{placement:"bottom",title:a,triggerClassName:"cursor-default",children:(0,s.jsx)("span",{className:"text-xs font-bold leading-[18px]",children:n})})}),(0,s.jsx)("div",{className:"flex flex-col overflow-hidden divide-y divide-gray-100",children:t.map((e=>{const t=e.layerName,a=e.stateName,l=e.actions;return(0,s.jsxs)("div",{className:"flex flex-col p-[6px] gap-1",children:[t?(0,s.jsxs)("div",{className:"flex text-xs leading-[18px] text-gray-600",children:[(0,s.jsx)("span",{className:"basis-24 font-bold",children:"Layer"}),(0,s.jsx)("span",{children:t})]}):(0,s.jsx)(s.Fragment,{}),a?(0,s.jsxs)("div",{className:"flex text-xs leading-[18px] text-gray-600",children:[(0,s.jsx)("span",{className:"basis-24 font-bold",children:"State Name"}),(0,s.jsx)("span",{children:a})]}):(0,s.jsx)(s.Fragment,{}),l.map((e=>{const t=e.inputName||e.triggerName,n=e.type,a=e.url||e.value,l=(i=a,void 0===(r=t)?i:void 0!==i?"".concat(r," = ").concat(i):r);var r,i;return(0,s.jsx)("div",{className:"flex flex-col gap-1",children:(0,s.jsxs)("div",{className:"flex text-xs text-gray-600",children:[(0,s.jsx)("span",{className:"basis-24 font-bold",children:n}),(0,s.jsx)("span",{children:l})]},"triggeraction-".concat(t))},"".concat(n,"--").concat(t))}))]},"".concat(n,"-").concat(e.layerName))}))})]})},T=e=>{let{interactions:t}=e;return!t||t.length<1?null:(0,s.jsxs)("section",{className:"flex flex-col gap-2",children:[(0,s.jsx)("span",{className:"inline-block text-sm font-bold leading-[18px]",children:"Interactions"}),(0,s.jsx)("div",{className:"flex flex-col gap-[6px]",children:t.map(((e,t)=>{const n=e.type;return(0,s.jsx)(I,{type:e.type,items:e.interactions},"listenertype-".concat(n,"-").concat(t+1))}))})]})},M=e=>{let{interactedState:t,maxItemsToShow:n=3,states:l}=e;const[i,c]=a.useState(!!l&&(null==l?void 0:l.length)<=n),o=a.useCallback((()=>{c((e=>!e))}),[]);return l?(0,s.jsxs)("section",{className:"flex flex-col gap-2",children:[(0,s.jsx)("span",{className:"inline-block text-sm font-bold leading-[18px]",children:"States"}),(0,s.jsxs)("div",{className:"flex flex-col gap-[6px]",children:[(i?l:l.slice(0,n)).map((e=>{const n=e.name,a=e.isInitial,l=e.isFinal;return(0,s.jsxs)("div",{className:"flex flex-col rounded-lg overflow-hidden",children:[(0,s.jsx)("div",{className:u()("flex w-full justify-center items-start p-1",{"bg-teal-200 bg-opacity-100":t&&t===n,"bg-[#001331] bg-opacity-[0.08]":!t||t!==n}),children:(0,s.jsx)("span",{className:"text-xs font-bold leading-[18px]",children:n})}),a&&(0,s.jsx)("div",{className:"flex w-full justify-center p-1 bg-[#001331] bg-opacity-[0.04]",children:(0,s.jsx)("span",{className:"text-xxs leading-[15px] text-green-400 uppercase",children:"Initial State"})}),l&&(0,s.jsx)("div",{className:"flex w-full justify-center p-1 bg-[#001331] bg-opacity-[0.04]",children:(0,s.jsx)("span",{className:"text-xxs leading-[15px] text-purple-400 uppercase",children:"Final State"})})]},"state-".concat(n))})),l.length>n&&(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsx)("button",{type:"button",className:"flex gap-[2px] flex-1 justify-center items-center p-[2px] text-gray-500 hover:text-gray-400",onClick:o,children:i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-xxs leading-[15px]",children:"View less states"}),(0,s.jsx)(r.J,{name:"chevron-up",customSize:16,className:"-mt-[1px]"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-xxs leading-[15px]",children:"View all ".concat(l.length," states")}),(0,s.jsx)(r.J,{name:"chevron-down",customSize:16,className:"-mt-[2px]"})]})})})]})]}):null},_=e=>{let{inputs:t,onSwitchPanel:n,showDetails:l=!0}=e;const{actions:r,stateMachineEventValues:i}=(0,m.U)(),c=a.useCallback((e=>t=>{let{name:n,value:s}=t;const a="trigger";"Event"===e?r.setInputValue({from:a,type:e,name:e,value:s}):r.setInputValue({from:a,type:e,name:n,value:s})}),[r]),o=a.useCallback((()=>{null==n||n("interaction-details")}),[n]);return!t||t.length<1?null:(0,s.jsxs)("section",{className:"flex flex-col min-h-0",children:[(0,s.jsx)("div",{className:u()("flex flex-col gap-2 py-2 border border-gray-100 min-h-0",{"rounded-t-lg":l,"rounded-lg":!l}),children:(0,s.jsx)(x.X,{orientation:"vertical",className:"px-3",children:(0,s.jsx)("div",{className:"flex flex-col gap-[6px] py-1 px-1",children:t.map((e=>{const t=e.name,n=e.type,a=(e=>{var t;return i.has(e)&&null!==(t=i.get(e))&&void 0!==t?t:null})(t);var l;const r=null!==(l=null==a?void 0:a.value)&&void 0!==l?l:e.value;switch(n){case"Numeric":return(0,s.jsx)(C,{isNumericText:!0,value:r,name:t,label:t,placeholder:"Enter ".concat(t),onChange:c(n)},"inputfieldnum-".concat(t));case"String":return(0,s.jsx)(C,{value:r,name:t,label:t,placeholder:"Enter ".concat(t),onChange:c(n)},"inputfieldstr-".concat(t));case"Boolean":return(0,s.jsx)(k,{toggleValue:Boolean(r),name:t,label:t,onChange:c(n)},"inputfieldswitch-".concat(t));case"Event":return(0,s.jsx)(S,{name:t,value:t,label:t,onClick:c(n)},"fieldevent-".concat(t));default:return(0,s.jsx)(s.Fragment,{})}}))})})}),l&&(0,s.jsx)("div",{className:"flex justify-center items-center border border-t-0 border-gray-100 rounded-b-lg",children:(0,s.jsx)("button",{type:"button",className:"flex-1 py-1 px-2 font-bold text-xs leading-[18px] bg-[#001331] bg-opacity-0 hover:bg-opacity-[0.04]",onClick:o,children:"View interaction details"})})]})},F=e=>{let{showInfo:t=!0,withCreatorCta:n=!0,withGuide:l=!0,withInteractionDetails:i=!0}=e;const[c]=(0,f.useRecoilState)(g.sI),{actions:o,activeStates:d,getInputsAndInteractions:u,getStates:h,hasStateMachine:N,selectedStateMachine:w,stateMachineSelection:k}=(0,m.U)(),[C,S]=a.useState("index"),I=u(null!=w?w:""),F=h(null!=w?w:""),A=d.get(w),O=a.useMemo((()=>{var e;return(0,p.V)({utmSource:"animation-state-machines-panel",feature:"state-machine",fileId:null!==(e=null==c?void 0:c.id)&&void 0!==e?e:""})}),[c]),L=a.useMemo((()=>(e=>{const t=new Map;for(const n of e){const e=n.type;t.has(e)||t.set(e,{type:n.type,interactions:[]}),t.get(e).interactions.push({...n.stateName?{stateName:n.stateName}:{},...n.layerName?{layerName:n.layerName}:{},actions:n.actions})}return Array.from(t.values())})(null==I?void 0:I.interactions)),[null==I?void 0:I.interactions]),P=a.useCallback((()=>{(null==c?void 0:c.id)&&((0,j.Z9)(new j.E5({action:"redirect_to_lottie_creator",target:"state machine panel creator redirect button",description:"user clicks to redirect to lottie creator"})),window.open(O,"_self"))}),[O,c]),z=a.useCallback((()=>{(0,j.Z9)(new j.E5({action:"how_to_open_modal",target:"state machine panel guide button",description:"user clicks to open guide"})),o.toggleHowTo()}),[o]),V=a.useCallback((e=>{S(e)}),[]),D=a.useCallback((()=>{V("index")}),[V]),Z=a.useCallback((()=>{(0,j.Z9)(new j.Rd("button","Learn more","create state machine info link popover")),window.open("https://lottiefiles.com/state-machines","_blank","noopener")}),[]);return N?(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsxs)("h3",{className:"mt-6 ml-6 pb-4 text-base font-bold text-gray-900 flex items-center gap-1",children:[(0,s.jsx)(v.Z,{step:2,side:"left",align:"start",alignOffset:-12,children:(0,s.jsx)("span",{children:"State Machine"})}),t&&(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)(b.t,{onCtaClick:Z,children:(0,s.jsx)(r.J,{className:"ml-0.5 text-gray-500",name:"info",small:!0})})})]}),(0,s.jsxs)("div",{className:"flex flex-col min-h-0 pb-6 flex-1",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-y-2  bg-white border-gray-100 min-h-0 flex-1",children:["index"===C&&(0,s.jsxs)("div",{className:"flex flex-col px-6 gap-2 min-h-0 h-full",children:[(0,s.jsx)(E,{stateMxnsList:k,selectedStateMxn:w}),(0,s.jsx)(_,{inputs:null==I?void 0:I.inputs,onSwitchPanel:V,showDetails:i})]}),"interaction-details"===C&&(0,s.jsx)(x.X,{orientation:"vertical",children:(0,s.jsxs)("div",{className:"flex flex-col gap-6 px-6",children:[(0,s.jsxs)("div",{className:"flex gap-2 justify-start items-center text-sm font-bold text-gray-900",children:[(0,s.jsx)(y.h,{name:"arrow-left",sizeClass:"w-6 h-6",className:"text-gray-900",onClick:D}),(0,s.jsx)("span",{className:"",children:"Interaction details"})]}),(0,s.jsx)(M,{states:F,interactedState:null==A?void 0:A.state}),(0,s.jsx)(T,{interactions:L})]})})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 pt-6 px-6",children:[l&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"button",className:"relative flex items-center justify-center w-full h-full px-3 py-2 bg-[#001331] bg-opacity-[0.04] rounded-lg cursor-pointer hover:bg-opacity-[0.08]",onClick:z,children:(0,s.jsxs)("div",{className:"flex justify-center items-center w-full gap-2",children:[(0,s.jsx)(r.J,{name:"embed",marginLeft:!0,small:!0}),(0,s.jsx)("span",{className:"text-sm text-gray-900 font-bold",children:"Implementation guide"})]})})}),n&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"button",className:"relative flex items-center justify-center w-full h-full px-3 py-2 border border-gray-200 rounded-lg cursor-pointer hover:border-gray-900",onClick:P,children:(0,s.jsx)("div",{className:"flex items-center ",children:(0,s.jsx)("span",{className:"text-sm text-gray-900 font-bold",children:"Edit in Lottie Creator"})})})})]})]})]}):null}},80349:function(e,t,n){n.d(t,{p:function(){return l}});var s=n(79120),a=n(52983);const l=e=>{let{color:t}=e;return(0,a.useMemo)((()=>{try{return(0,s.H3)(t)>=.5}catch(e){return!1}}),[t])}},34651:function(e,t,n){n.d(t,{V:function(){return a}});const s="https://creator.lottiefiles.com",a=e=>{const t="new"===e.path?new URL("new",s):new URL(s);return e.workspaceId&&t.searchParams.set("workspace",e.workspaceId),e.projectId&&t.searchParams.set("project",e.projectId),e.fileId&&"new"!==e.path&&t.searchParams.set("fileId",e.fileId),e.feature&&t.searchParams.set("feature",e.feature),e.utmSource&&(t.searchParams.set("utm_medium","platform"),t.searchParams.set("utm_source",e.utmSource)),t}},91034:function(e,t,n){var s,a;n.d(t,{U:function(){return a},i:function(){return s}}),function(e){e.Error="error",e.Input="input",e.Output="output"}(s||(s={})),function(e){e.PNG="png",e.SVG="svg"}(a||(a={}))}}]);