"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3858],{13787:function(e,t,n){n.d(t,{o:function(){return s}});var a=n(97458);const s=n(52983).forwardRef(((e,t)=>{let{children:n,contentWrapperCssClasses:s="flex-grow overflow-hidden",headerControl:l,headerWrapperCssClasses:o="bg-white h-16 flex items-center sm:px-6 px-2 border-b border-gray-100 flex-shrink-0",id:i}=e;return(0,a.jsxs)("div",{id:i,ref:t,"data-onboarding-watch":"create_menu_new_button",className:"flex overflow-y-auto absolute inset-0 flex-col w-full",children:[l&&(0,a.jsx)("div",{className:o,children:l}),(0,a.jsx)("div",{className:s,children:n})]})}));s.displayName="PageScaffold"},39391:function(e,t,n){n.d(t,{s:function(){return i}});var a=n(97458),s=(n(52983),n(75800)),l=n(44277),o=n(50251);const i=()=>{const[e,t]=(0,s.useRecoilState)(l.Hw);return(0,a.jsx)(o.n,{icon:"bounding-box",title:"Bounding box",onClick:()=>{t(!e)},iconColorClass:e?"text-actionPrimary":"text-gray-600"})}},30008:function(e,t,n){n.d(t,{K:function(){return a}});const a=(0,n(52983).createContext)({currentFrame:0,totalFrames:0})},92168:function(e,t,n){n.d(t,{w:function(){return r}});var a=n(52983),s=n(44818),l=n(91196),o=n(21483),i=n(45922);function r(){const{user:e}=(0,s.a)(),[t,n]=(0,o.T)("panel"),[,r]=(0,l._)("animation_sidebar_panel_state",{}),u=(0,a.useMemo)((()=>{if("string"==typeof t){const e=Object.values(i.s).find((e=>e===t));if(e)return e}return i.s.NONE}),[t]),c=(0,a.useCallback)((e=>{t!==e&&n(e===i.s.NONE?"":e)}),[n]);return(0,a.useEffect)((()=>{(null==e?void 0:e.id)&&u!==i.s.NONE?r((t=>t[e.id]===u?t:{...t,[e.id]:u})):r({})}),[null==e?void 0:e.id,u]),[u,c]}},21483:function(e,t,n){n.d(t,{T:function(){return l}});var a=n(76558),s=n(52983);function l(e){const t=(0,a.useRouter)();return[t.query[e],(0,s.useCallback)((n=>{const a={...t.query};a[e]=n,""===n&&delete a[e],t.push({query:{...a}},void 0,{shallow:!0})}),[t])]}},26245:function(e,t,n){n.d(t,{Q:function(){return o}});var a=n(97458),s=n(52983),l=n(30008);const o=e=>{let{children:t}=e;const[n,o]=(0,s.useState)(0),[i,r]=(0,s.useState)(0),u=(0,s.useCallback)((e=>{o((t=>Math.floor(e)!==t?e:t))}),[]);return(0,a.jsx)(l.K.Provider,{value:{currentFrame:n,setCurrentFrame:u,totalFrames:i,setTotalFrames:r},children:t})}},21959:function(e,t,n){n.d(t,{J:function(){return C},U:function(){return E}});var a=n(97458),s=n(52983),l=n(92168),o=n(45922),i=n(21483),r=n(76682),u=n(69826),c=n(40487);const d=e=>{let{onClose:t,show:n}=e;const l=s.useCallback((()=>{t()}),[t]),o=s.useCallback((()=>{(0,u.Z9)(new u.E5({action:"state_machines_how_to_url_loaded",target:"iframe framer modal",description:"modal loads how to framer"}))}),[]),i=s.useCallback((e=>{"https://bisque-day-423759.framer.app/".includes(e.origin)&&"click"===e.data.action&&"close"===e.data.intent&&((0,u.Z9)(new u.E5({action:"click",target:"close",description:"Close how to modal"})),l())}),[l]);return s.useEffect((()=>(window.addEventListener("message",i),()=>{window.removeEventListener("message",i)})),[i]),(0,a.jsx)(r.H,{show:n,size:"custom",contentClass:"w-full max-w-[600px]",footerSeparator:!1,closeOnEscape:!0,hideOnBackgroundClick:!0,showHeader:!1,contentPadding:"p-0",children:(0,a.jsx)("div",{className:"h-[500px]",children:(0,a.jsx)(c.u,{allowTopNavigation:!0,allowScripts:!0,allowPopups:!0,allowForms:!0,allow:"clipboard-write",src:"https://bisque-day-423759.framer.app/",title:"Implement State Machine",className:"w-full h-full border-none",onLoad:o})})})};var f=n(84867),m=n(88317),v=n(75800),h=n(44277),p=n(46690);const w=s.createContext(null),C=e=>{let{animationResource:t,children:n,onStateMachineToggle:r}=e;const[u]=(0,v.useRecoilState)(h.sI),{start:c}=(0,m.N)(),C=(0,p.usePathname)(),E=u||t||null,[M,b]=s.useState(""),[S,g]=s.useState(new Map),[N,_]=s.useState(new Map),[k,x]=s.useState(new Map),T=s.useMemo((()=>{var e,t;return(null==E||null===(e=E.fileObject)||void 0===e?void 0:e.stateMachines)?null===(t=E.fileObject)||void 0===t?void 0:t.stateMachines:[]}),[E]),[,O]=(0,l.w)(),[I]=(0,i.T)("panel"),[y,A]=s.useState(!1),[j,F]=s.useState(!1),R=s.useRef(!1),L=s.useMemo((()=>T.map((e=>{var t;return{value:e.id,label:null!==(t=e.displayName)&&void 0!==t?t:e.id}}))),[T]),P=s.useMemo((()=>T.length>0&&L.length>0&&Boolean(M)),[T,L,M]),H=s.useCallback((()=>{const e=!y,t=!C.includes("/share/");A(e),t&&O(e?o.s.STATE_MACHINES:o.s.NONE)}),[y,O,C]),q=s.useCallback((e=>{b((()=>e)),x(new Map),g(new Map),_(new Map)}),[b]),B=s.useCallback((e=>{if(!R.current){R.current=!0;const{from:t,name:n,type:a,value:s}=e;g((e=>{const l=new Map(e);return l.set(n,{name:n,type:a,value:s,from:t}),l})),setTimeout((()=>{R.current=!1}),0)}}),[]),V=s.useCallback((e=>{if(!R.current){R.current=!0;const{from:t,name:n,type:a,value:s}=e;_((e=>{const l=new Map(e);return l.set(n,{name:n,type:a,value:s,from:t}),l})),setTimeout((()=>{R.current=!1}),0)}}),[]),D=s.useCallback((e=>{e||x(new Map);const{state:t,stateMxn:n}=e;x((e=>{const a=new Map(e);return a.set(n,{state:t}),a}))}),[]),K=s.useCallback((()=>{F((e=>!e))}),[]),U=s.useCallback((e=>{const t=T.find((t=>t.id===e));return t?{inputs:null!==(n=null==t?void 0:t.inputs)&&void 0!==n?n:[],interactions:null!==(a=null==t?void 0:t.interactions)&&void 0!==a?a:[],listeners:null!==(s=null==t?void 0:t.listeners)&&void 0!==s?s:[],triggers:null!==(l=null==t?void 0:t.triggers)&&void 0!==l?l:[],transitions:null!==(o=null==t?void 0:t.transitions)&&void 0!==o?o:[]}:null;var n,a,s,l,o}),[T]),W=s.useCallback((e=>{const t=T.find((t=>t.id===e));if(!t)return null;return[...t.states].sort(((e,n)=>{const a=e.name,s=n.name;return a===t.initial?-1:s===t.initial?1:a.localeCompare(s)})).map(((e,n,a)=>t.initial===e.name?{...e,isFinal:!1,isInitial:!0}:n===a.length-1?{...e,isFinal:!0,isInitial:!1}:{...e,isFinal:!1,isInitial:!1}))}),[T]),Z=s.useCallback((e=>{const t=T.find((t=>t.id===e));return t?t.initial:null}),[T]),z=s.useMemo((()=>({activeStates:k,stateMachines:T,stateMachineMode:y,hasStateMachine:P,selectedStateMachine:M,stateMachineSelection:L,stateMachineInputValues:S,stateMachineEventValues:N,getInitialState:Z,getStates:W,getInputsAndInteractions:U,actions:{toggleMode:H,selectStateMachine:q,setActiveStates:D,setEventValue:V,setInputValue:B,toggleHowTo:K}})),[k,y,H,T,Z,W,U,q,L,M,P,N,S,D,B,K,V]);return s.useEffect((()=>{null==r||r(y)}),[y,r]),s.useEffect((()=>{var e,t,n,a;I===o.s.STATE_MACHINES?(null==E||null===(t=E.fileObject)||void 0===t||null===(e=t.stateMachines)||void 0===e?void 0:e.length)?A(!0):(A(!1),O(o.s.NONE)):A(Boolean((null==E||null===(a=E.fileObject)||void 0===a||null===(n=a.stateMachines)||void 0===n?void 0:n.length)&&document.fullscreenElement))}),[I,O,E]),s.useEffect((()=>{if(T){const t=T[0];var e;b(null!==(e=null==t?void 0:t.id)&&void 0!==e?e:"")}}),[T]),s.useEffect((()=>{P?y&&c({taskId:f.Oc.STATE_MACHINES}):c({taskId:f.Oc.CREATE_STATE_MACHINE})}),[P,y,c]),(0,a.jsxs)(w.Provider,{value:z,children:[n,(0,a.jsx)(d,{show:j,onClose:K})]})},E=()=>{const e=s.useContext(w);if(!e)throw new Error("It looks like some problems with State Machines provider");return e}},45922:function(e,t,n){var a;n.d(t,{s:function(){return a}}),function(e){e.ACCESSIBILITY_ANALYZER="accessibility_analyzer",e.COLOR_PALETTES="color_palettes",e.COMMENTS="comments",e.DOWNLOAD="download",e.EMBED="embed",e.FILE_INFO="file_info",e.LOTTIE_MOCKUP="lottie_mockup",e.NONE="none",e.QRCODE="qrcode",e.SEGMENT_MOCKUP="segment_mockup",e.STATE_MACHINES="state_machines",e.VERSIONS="versions"}(a||(a={}))}}]);